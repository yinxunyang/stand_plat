<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bestvike.bvrfis.dao.BvrfisHouseDao">
	<select id="queryBvrfisCorpInfo" resultType="com.bestvike.bvrfis.param.BvrfisCorpInfoParam">
		select t.corpname,t.licenseno from bvrfis_xjws.arc_corpinfo t
		<where>
			<if test="null != param.corptype and '' != param.corptype">
				t.corptype = #{param.corptype,jdbcType=VARCHAR}
			</if>
			<if test="null != param.state and '' != param.state">
				AND t.state = #{param.state,jdbcType=VARCHAR}
			</if>
			<if test="null != param.datacenterid and '' != param.datacenterid">
				AND t.datacenterid IS NULL
			</if>
		</where>
	</select>
	<select id="queryBvrfisHouseInfo" resultType="com.bestvike.bvrfis.param.BvrfisHouseParam">
			select * from (select
							t1.sysGuid,
							t1.bldNo,
							t1.cellNo,
							t1.floorNo,
							t1.roomNo,
							t1.address,
							t1.houseProp
		from bvrfis_aks.arc_houseinfo t1
		minus
		select
				t2.sysGuid,
				t2.bldNo,
				t2.cellNo,
				t2.floorNo,
				t2.roomNo,
				t2.address,
				t2.houseProp
		from mid_aks.arc_houseinfo t2
		)
		<![CDATA[
		where rownum <= #{houseMaxNum}

		]]>
	</select>
	<select id="queryBldInfoByBldNo" resultType="com.bestvike.bvrfis.param.BvrfisBldParam">
		select bldName from bvrfis_aks.Arc_BldInfo where bldNo = #{bldNo,jdbcType=VARCHAR}
	</select>
	<select id="selectDevelopNameByDevelopNo" resultType="com.bestvike.bvrfis.param.BvrfisCorpInfoParam">
		select corpName, licenseNo from bvrfis_aks.Arc_CorpInfo where corpNo = #{corpNo,jdbcType=VARCHAR}
	</select>
	<select id="selectCellNameByNo" resultType="java.lang.String">
		select cellName from bvrfis_aks.Arc_CellInfo where bldNo = #{bldNo,jdbcType=VARCHAR} and cellNo = #{cellNo,jdbcType=VARCHAR} and houseProp = #{houseProp,jdbcType=VARCHAR}
	</select>
	<select id="selectFloorNameByFloorNo" resultType="java.lang.String">
		select floorName from bvrfis_aks.Arc_FloorInfo where bldNo = #{bldNo,jdbcType=VARCHAR} and floorNo = #{floorNo,jdbcType=VARCHAR} and houseProp = #{houseProp,jdbcType=VARCHAR}
	</select>
	<select id="selectOwnerInfoByHouseId" resultType="com.bestvike.bvrfis.param.BvrfisOwnerInfoParam">
		select subAccount, certNo, ownerName from bvrfis_aks.Arc_OwnerInfo where houseGuid = #{houseGuid,jdbcType=VARCHAR} and state = #{state,jdbcType=VARCHAR}
	</select>
	<select id="selectShareOwnerInfoByHouseId" resultType="com.bestvike.bvrfis.param.BvrfisShareOwnerInfoParam">
		select certNo, ownerName from bvrfis_aks.Arc_ShareOwnerInfo where subAccount = #{subAccount,jdbcType=VARCHAR}
	</select>
</mapper>