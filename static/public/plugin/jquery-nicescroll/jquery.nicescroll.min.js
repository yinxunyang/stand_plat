!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function k(){var a=h.currentScript||function(){var a=h.getElementsByTagName("script");return a.length?a[a.length-1]:!1}(),b=a?a.src.split("?")[0]:"";return b.split("/").length>0?b.split("/").slice(0,-1).join("/")+"/":""}function y(a,b,c){for(var d=0,e=b.length;e>d;d++)c(a,b[d])}var n,o,p,q,r,s,t,u,v,w,x,z,b=!1,c=!1,d=0,e=2e3,f=0,g=a,h=document,i=window,j=g(i),l=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||!1,m=i.cancelAnimationFrame||i.webkitCancelAnimationFrame||i.mozCancelAnimationFrame||!1;l?i.cancelAnimationFrame||(m=function(){}):(n=0,l=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-n)),e=i.setTimeout(function(){a(c+d)},d);return n=c+d,e},m=function(a){i.clearTimeout(a)}),o=i.MutationObserver||i.WebKitMutationObserver||!1,p=Date.now||function(){return(new Date).getTime()},q={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:k(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},r=!1,s=function(){function f(){var c,d,f,a=["grab","-webkit-grab","-moz-grab"];for((e.ischrome&&!e.ischrome38||e.isie)&&(a=[]),c=0,d=a.length;d>c;c++)if(f=a[c],b.cursor=f,b.cursor==f)return f;return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}if(r)return r;var a=h.createElement("DIV"),b=a.style,c=navigator.userAgent,d=navigator.platform,e={};return e.haspointerlock="pointerLockElement"in h||"webkitPointerLockElement"in h||"mozPointerLockElement"in h,e.isopera="opera"in i,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isoperamini="[object OperaMini]"===Object.prototype.toString.call(i.operamini),e.isie="all"in h&&"attachEvent"in a&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in b),e.isie7=!(!e.isie||e.isieold||"documentMode"in h&&7!==h.documentMode),e.isie8=e.isie&&"documentMode"in h&&8===h.documentMode,e.isie9=e.isie&&"performance"in i&&9===h.documentMode,e.isie10=e.isie&&"performance"in i&&10===h.documentMode,e.isie11="msRequestFullscreen"in a&&h.documentMode>=11,e.ismsedge="msCredentials"in i,e.ismozilla="MozAppearance"in b,e.iswebkit=!e.ismsedge&&"WebkitAppearance"in b,e.ischrome=e.iswebkit&&"chrome"in i,e.ischrome38=e.ischrome&&"touchAction"in b,e.ischrome22=!e.ischrome38&&e.ischrome&&e.haspointerlock,e.ischrome26=!e.ischrome38&&e.ischrome&&"transition"in b,e.cantouch="ontouchstart"in h.documentElement||"ontouchstart"in i,e.hasw3ctouch=(i.PointerEvent||!1)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),e.hasmstouch=!e.hasw3ctouch&&(i.MSPointerEvent||!1),e.ismac=/^mac$/i.test(d),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(d),e.isios4=e.isios&&!("seal"in Object),e.isios7=e.isios&&"webkitHidden"in h,e.isios8=e.isios&&"hidden"in h,e.isios10=e.isios&&i.Proxy,e.isandroid=/android/i.test(c),e.haseventlistener="addEventListener"in a,e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1,e.trstyle="transform",e.hastransform="transform"in b||function(){var c,d,a=["msTransform","webkitTransform","MozTransform","OTransform"];for(c=0,d=a.length;d>c;c++)if(void 0!==b[a[c]]){e.trstyle=a[c];break}e.hastransform=!!e.trstyle}(),e.hastransform&&(b[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(b[e.trstyle])),e.transitionstyle="transition",e.prefixstyle="",e.transitionend="transitionend",e.hastransition="transition"in b||function(){var a,c,d,f,g;for(e.transitionend=!1,a=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],c=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],d=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],f=0,g=a.length;g>f;f++)if(a[f]in b){e.transitionstyle=a[f],e.prefixstyle=c[f],e.transitionend=d[f];break}e.ischrome26&&(e.prefixstyle=c[1]),e.hastransition=e.transitionstyle}(),e.cursorgrabvalue=f(),e.hasmousecapture="setCapture"in a,e.hasMutationObserver=o!==!1,a=null,r=e,e},t=function(a,k){function A(){var a=n.doc.css(y.trstyle);return a&&"matrix"==a.substr(0,6)?a.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function C(){var b,a=n.win;if("zIndex"in a)return a.zIndex();for(;a.length>0;){if(9==a[0].nodeType)return!1;if(b=a.css("zIndex"),!isNaN(b)&&0!==b)return parseInt(b);a=a.parent()}return!1}function E(a,b,c){var f,d=a.css(b),e=parseFloat(d);return isNaN(e)?(e=D[d]||0,f=3==e?c?n.win.outerHeight()-n.win.innerHeight():n.win.outerWidth()-n.win.innerWidth():1,n.isie8&&e&&(e+=1),f?e:0):e}function G(a,b,c,d){n._bind(a,b,function(d){d=d||i.event;var e={original:d,target:d.target||d.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==d.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return d.preventDefault?d.preventDefault():d.returnValue=!1,!1},stopImmediatePropagation:function(){d.stopImmediatePropagation?d.stopImmediatePropagation():d.cancelBubble=!0}};return"mousewheel"==b?(d.wheelDeltaX&&(e.deltaX=-1/40*d.wheelDeltaX),d.wheelDeltaY&&(e.deltaY=-1/40*d.wheelDeltaY),!e.deltaY&&!e.deltaX&&(e.deltaY=-1/40*d.wheelDelta)):e.deltaY=d.detail,c.call(a,e)},d)}function O(a,b,c,d){var e,f,g,h,i;if(n.scrollrunning||(n.newscrolly=n.getScrollTop(),n.newscrollx=n.getScrollLeft(),M=p()),e=p()-M,M=p(),e>350?N=1:N+=(2-N)/10,a=0|a*N,b=0|b*N,a){if(d)if(0>a){if(n.getScrollLeft()>=n.page.maxw)return!0}else if(n.getScrollLeft()<=0)return!0;f=a>0?1:-1,L!==f&&(n.scrollmom&&n.scrollmom.stop(),n.newscrollx=n.getScrollLeft(),L=f),n.lastdeltax-=a}if(b){if(g=function(){var a=n.getScrollTop();if(0>b){if(a>=n.page.maxh)return!0}else if(0>=a)return!0}()){if(t.nativeparentscrolling&&c&&!n.ispage&&!n.zoomactive)return!0;h=n.view.h>>1,n.newscrolly<-h?(n.newscrolly=-h,b=-1):n.newscrolly>n.page.maxh+h?(n.newscrolly=n.page.maxh+h,b=1):b=0}i=b>0?1:-1,K!==i&&(n.scrollmom&&n.scrollmom.stop(),n.newscrolly=n.getScrollTop(),K=i),n.lastdeltay-=b}(b||a)&&n.synched("relativexy",function(){var b,a=n.lastdeltay+n.newscrolly;n.lastdeltay=0,b=n.lastdeltax+n.newscrollx,n.lastdeltax=0,n.rail.drag||n.doScrollPos(b,a)})}function Q(a,b,c){var d,e,f,g;return!c&&P?!0:(0===a.deltaMode?(d=0|-(a.deltaX*(t.mousescrollstep/54)),e=0|-(a.deltaY*(t.mousescrollstep/54))):1===a.deltaMode&&(d=0|-(50*a.deltaX*t.mousescrollstep/80),e=0|-(50*a.deltaY*t.mousescrollstep/80)),b&&t.oneaxismousemode&&0===d&&e&&(d=e,e=0,c&&(f=0>d?n.getScrollLeft()>=n.page.maxw:n.getScrollLeft()<=0,f&&(e=d,d=0))),n.isrtlmode&&(d=-d),(g=O(d,e,c,!0))?(c&&(P=!0),void 0):(P=!1,a.stopImmediatePropagation(),a.preventDefault()))}var r,t,v,w,x,y,z,B,D,F,H,I,K,L,M,N,P,R,n=this;if(this.version="3.7.6",this.name="nicescroll",this.me=k,r=g("body"),t=this.opt={doc:r,win:!1},g.extend(t,q),t.snapbackspeed=80,a)for(v in t)void 0!==a[v]&&(t[v]=a[v]);if(t.disablemutationobserver&&(o=!1),this.doc=t.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(t.win?t.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=t.win!==!1,this.win=t.win||(this.ispage?j:this.doc),this.docscroll=this.ispage&&!this.haswrapper?j:this.win,this.body=r,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=t.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==t.rtlmode?(w=this.win[0]==i?this.body:this.win,x=w.css("writing-mode")||w.css("-webkit-writing-mode")||w.css("-ms-writing-mode")||w.css("-moz-writing-mode"),"horizontal-tb"==x||"lr-tb"==x||""===x?(this.isrtlmode="rtl"==w.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==x||"tb"==x||"tb-rl"==x||"rl-tb"==x,this.isvertical="vertical-rl"==x||"tb"==x||"tb-rl"==x)):(this.isrtlmode=t.rtlmode===!0,this.isvertical=!1),this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,t.scrollbarid!==!1)this.id=t.scrollbarid;else do this.id="ascrail"+e++;while(h.getElementById(this.id));if(this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=t.overflowx,this.overflowy=t.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.delegatevents=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=s(),y=g.extend({},this.detected),this.canhwscroll=y.hastransform&&t.hwacceleration,this.ishwscroll=this.canhwscroll&&n.haswrapper,this.hasreversehr=this.isrtlmode?this.isvertical?!(y.iswebkit||y.isie||y.isie11):!(y.iswebkit||y.isie&&!y.isie10&&!y.isie11):!1,this.istouchcapable=!1,y.cantouch||!y.hasw3ctouch&&!y.hasmstouch?!y.cantouch||y.isios||y.isandroid||!y.iswebkit&&!y.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,t.enablemouselockapi||(y.hasmousecapture=!1,y.haspointerlock=!1),this.debounced=function(a,b,c){if(n){var d=n.delaylist[a]||!1;d||(n.delaylist[a]={h:l(function(){n.delaylist[a].fn.call(n),n.delaylist[a]=!1},c)},b.call(n)),n.delaylist[a].fn=b}},this.synched=function(a,b){n.synclist[a]?n.synclist[a]=b:(n.synclist[a]=b,l(function(){n&&(n.synclist[a]&&n.synclist[a].call(n),n.synclist[a]=null)}))},this.unsynched=function(a){n.synclist[a]&&(n.synclist[a]=!1)},this.css=function(a,b){for(var c in b)n.saved.css.push([a,c,a.css(c)]),a.css(c,b[c])},this.scrollTop=function(a){return void 0===a?n.getScrollTop():n.setScrollTop(a)},this.scrollLeft=function(a){return void 0===a?n.getScrollLeft():n.setScrollLeft(a)},z=function(a,b,c,d,e,f,g){this.st=a,this.ed=b,this.spd=c,this.p1=d||0,this.p2=e||1,this.p3=f||0,this.p4=g||1,this.ts=p(),this.df=b-a},z.prototype={B2:function(a){return 3*(1-a)*(1-a)*a},B3:function(a){return 3*(1-a)*a*a},B4:function(a){return a*a*a},getPos:function(){return(p()-this.ts)/this.spd},getNow:function(){var a=(p()-this.ts)/this.spd,b=this.B2(a)+this.B3(a)+this.B4(a);return a>=1?this.ed:0|this.st+this.df*b},update:function(a,b){return this.st=this.getNow(),this.ed=a,this.spd=b,this.ts=p(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},y.hastranslate3d&&y.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(a){if(!a){var b=A();if(b)return 16==b.length?-b[13]:-b[5];if(n.timerscroll&&n.timerscroll.bz)return n.timerscroll.bz.getNow()}return n.doc.translate.y},this.getScrollLeft=function(a){if(!a){var b=A();if(b)return 16==b.length?-b[12]:-b[4];if(n.timerscroll&&n.timerscroll.bh)return n.timerscroll.bh.getNow()}return n.doc.translate.x},this.notifyScrollEvent=function(a){var b=h.createEvent("UIEvents");b.initUIEvent("scroll",!1,!1,i,1),b.niceevent=!0,a.dispatchEvent(b)},B=this.isrtlmode?1:-1,y.hastranslate3d&&t.enabletranslate3d?(this.setScrollTop=function(a,b){n.doc.translate.y=a,n.doc.translate.ty=-1*a+"px",n.doc.css(y.trstyle,"translate3d("+n.doc.translate.tx+","+n.doc.translate.ty+",0)"),b||n.notifyScrollEvent(n.win[0])},this.setScrollLeft=function(a,b){n.doc.translate.x=a,n.doc.translate.tx=a*B+"px",n.doc.css(y.trstyle,"translate3d("+n.doc.translate.tx+","+n.doc.translate.ty+",0)"),b||n.notifyScrollEvent(n.win[0])}):(this.setScrollTop=function(a,b){n.doc.translate.y=a,n.doc.translate.ty=-1*a+"px",n.doc.css(y.trstyle,"translate("+n.doc.translate.tx+","+n.doc.translate.ty+")"),b||n.notifyScrollEvent(n.win[0])},this.setScrollLeft=function(a,b){n.doc.translate.x=a,n.doc.translate.tx=a*B+"px",n.doc.css(y.trstyle,"translate("+n.doc.translate.tx+","+n.doc.translate.ty+")"),b||n.notifyScrollEvent(n.win[0])})):(this.getScrollTop=function(){return n.docscroll.scrollTop()},this.setScrollTop=function(a){n.docscroll.scrollTop(a)},this.getScrollLeft=function(){var a;return a=n.hasreversehr?n.detected.ismozilla?n.page.maxw-Math.abs(n.docscroll.scrollLeft()):n.page.maxw-n.docscroll.scrollLeft():n.docscroll.scrollLeft()},this.setScrollLeft=function(a){return setTimeout(function(){return n?(n.hasreversehr&&(a=n.detected.ismozilla?-(n.page.maxw-a):n.page.maxw-a),n.docscroll.scrollLeft(a)):void 0},1)}),this.getTarget=function(a){return a?a.target?a.target:a.srcElement?a.srcElement:!1:!1},this.hasParent=function(a,b){if(!a)return!1;for(var c=a.target||a.srcElement||a||!1;c&&c.id!=b;)c=c.parentNode||!1;return c!==!1},D={thin:1,medium:3,thick:5},this.getDocumentScrollOffset=function(){return{top:i.pageYOffset||h.documentElement.scrollTop,left:i.pageXOffset||h.documentElement.scrollLeft}},this.getOffset=function(){var a,b,c,d;return n.isfixed?(a=n.win.offset(),b=n.getDocumentScrollOffset(),a.top-=b.top,a.left-=b.left,a):(c=n.win.offset(),n.viewport?(d=n.viewport.offset(),{top:c.top-d.top,left:c.left-d.left}):c)},this.updateScrollBar=function(a){var b,c,d,e,f;n.ishwscroll?(n.rail.css({height:n.win.innerHeight()-(t.railpadding.top+t.railpadding.bottom)}),n.railh&&n.railh.css({width:n.win.innerWidth()-(t.railpadding.left+t.railpadding.right)})):(d=n.getOffset(),b={top:d.top,left:d.left-(t.railpadding.left+t.railpadding.right)},b.top+=E(n.win,"border-top-width",!0),b.left+=n.rail.align?n.win.outerWidth()-E(n.win,"border-right-width")-n.rail.width:E(n.win,"border-left-width"),c=t.railoffset,c&&(c.top&&(b.top+=c.top),c.left&&(b.left+=c.left)),n.railslocked||n.rail.css({top:b.top,left:b.left,height:(a?a.h:n.win.innerHeight())-(t.railpadding.top+t.railpadding.bottom)}),n.zoom&&n.zoom.css({top:b.top+1,left:1==n.rail.align?b.left-20:b.left+n.rail.width+4}),n.railh&&!n.railslocked&&(b={top:d.top,left:d.left},c=t.railhoffset,c&&(c.top&&(b.top+=c.top),c.left&&(b.left+=c.left)),e=n.railh.align?b.top+E(n.win,"border-top-width",!0)+n.win.innerHeight()-n.railh.height:b.top+E(n.win,"border-top-width",!0),f=b.left+E(n.win,"border-left-width"),n.railh.css({top:e-(t.railpadding.top+t.railpadding.bottom),left:f,width:n.railh.width})))},this.doRailClick=function(a,b,c){var d,e,f,g;n.railslocked||(n.cancelEvent(a),"pageY"in a||(a.pageX=a.clientX+h.documentElement.scrollLeft,a.pageY=a.clientY+h.documentElement.scrollTop),b?(d=c?n.doScrollLeft:n.doScrollTop,f=c?(a.pageX-n.railh.offset().left-n.cursorwidth/2)*n.scrollratio.x:(a.pageY-n.rail.offset().top-n.cursorheight/2)*n.scrollratio.y,n.unsynched("relativexy"),d(0|f)):(d=c?n.doScrollLeftBy:n.doScrollBy,f=c?n.scroll.x:n.scroll.y,g=c?a.pageX-n.railh.offset().left:a.pageY-n.rail.offset().top,e=c?n.view.w:n.view.h,d(f>=g?e:-e)))},n.newscrolly=n.newscrollx=0,n.hasanimationframe="requestAnimationFrame"in i,n.hascancelanimationframe="cancelAnimationFrame"in i,n.hasborderbox=!1,this.init=function(){var a,e,k,l,m,p,q,s,v,w,x,z,B,D,E,F,G,H,I;if(n.saved.css=[],y.isoperamini)return!0;if(y.isandroid&&!("hidden"in h))return!0;if(t.emulatetouch=t.emulatetouch||t.touchbehavior,n.hasborderbox=i.getComputedStyle&&"border-box"===i.getComputedStyle(h.body)["box-sizing"],a={"overflow-y":"hidden"},(y.isie11||y.isie10)&&(a["-ms-overflow-style"]="none"),n.ishwscroll&&(this.doc.css(y.transitionstyle,y.prefixstyle+"transform 0ms ease-out"),y.transitionend&&n.bind(n.doc,y.transitionend,n.onScrollTransitionEnd,!1)),n.zindex="auto",n.zindex=n.ispage||"auto"!=t.zindex?t.zindex:C()||"auto",!n.ispage&&"auto"!=n.zindex&&n.zindex>f&&(f=n.zindex),n.isie&&0===n.zindex&&"auto"==t.zindex&&(n.zindex="auto"),!n.ispage||!y.isieold){e=n.docscroll,n.ispage&&(e=n.haswrapper?n.win:n.doc),n.css(e,a),n.ispage&&(y.isie11||y.isie)&&n.css(g("html"),a),!y.isios||n.ispage||n.haswrapper||n.css(r,{"-webkit-overflow-scrolling":"touch"}),k=g(h.createElement("div")),k.css({position:"relative",top:0,"float":"right",width:t.cursorwidth,height:0,"background-color":t.cursorcolor,border:t.cursorborder,"background-clip":"padding-box","-webkit-border-radius":t.cursorborderradius,"-moz-border-radius":t.cursorborderradius,"border-radius":t.cursorborderradius}),k.addClass("nicescroll-cursors"),n.cursor=k,l=g(h.createElement("div")),l.attr("id",n.id),l.addClass("nicescroll-rails nicescroll-rails-vr"),q=["left","right","top","bottom"];for(s in q)p=q[s],m=t.railpadding[p]||0,m&&l.css("padding-"+p,m+"px");l.append(k),l.width=Math.max(parseFloat(t.cursorwidth),k.outerWidth()),l.css({width:l.width+"px",zIndex:n.zindex,background:t.background,cursor:"default"}),l.visibility=!0,l.scrollable=!0,l.align="left"==t.railalign?0:1,n.rail=l,n.rail.drag=!1,v=!1,!t.boxzoom||n.ispage||y.isieold||(v=h.createElement("div"),n.bind(v,"click",n.doZoom),n.bind(v,"mouseenter",function(){n.zoom.css("opacity",t.cursoropacitymax)}),n.bind(v,"mouseleave",function(){n.zoom.css("opacity",t.cursoropacitymin)}),n.zoom=g(v),n.zoom.css({cursor:"pointer",zIndex:n.zindex,backgroundImage:"url("+t.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),t.dblclickzoom&&n.bind(n.win,"dblclick",n.doZoom),y.cantouch&&t.gesturezoom&&(n.ongesturezoom=function(a){return a.scale>1.5&&n.doZoomIn(a),a.scale<.8&&n.doZoomOut(a),n.cancelEvent(a)},n.bind(n.win,"gestureend",n.ongesturezoom))),n.railh=!1,t.horizrailenabled&&(n.css(e,{overflowX:"hidden"}),k=g(h.createElement("div")),k.css({position:"absolute",top:0,height:t.cursorwidth,width:0,backgroundColor:t.cursorcolor,border:t.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":t.cursorborderradius,"-moz-border-radius":t.cursorborderradius,"border-radius":t.cursorborderradius}),y.isieold&&k.css("overflow","hidden"),k.addClass("nicescroll-cursors"),n.cursorh=k,w=g(h.createElement("div")),w.attr("id",n.id+"-hr"),w.addClass("nicescroll-rails nicescroll-rails-hr"),w.height=Math.max(parseFloat(t.cursorwidth),k.outerHeight()),w.css({height:w.height+"px",zIndex:n.zindex,background:t.background}),w.append(k),w.visibility=!0,w.scrollable=!0,w.align="top"==t.railvalign?0:1,n.railh=w,n.railh.drag=!1),n.ispage?(l.css({position:"fixed",top:0,height:"100%"}),l.css(l.align?{right:0}:{left:0}),n.body.append(l),n.railh&&(w.css({position:"fixed",left:0,width:"100%"}),w.css(w.align?{bottom:0}:{top:0}),n.body.append(w))):(n.ishwscroll?("static"==n.win.css("position")&&n.css(n.win,{position:"relative"}),x="HTML"==n.win[0].nodeName?n.body:n.win,g(x).scrollTop(0).scrollLeft(0),n.zoom&&(n.zoom.css({position:"absolute",top:1,right:0,"margin-right":l.width+4}),x.append(n.zoom)),l.css({position:"absolute",top:0}),l.css(l.align?{right:0}:{left:0}),x.append(l),w&&(w.css({position:"absolute",left:0,bottom:0}),w.css(w.align?{bottom:0}:{top:0}),x.append(w))):(n.isfixed="fixed"==n.win.css("position"),z=n.isfixed?"fixed":"absolute",n.isfixed||(n.viewport=n.getViewport(n.win[0])),n.viewport&&(n.body=n.viewport,/fixed|absolute/.test(n.viewport.css("position"))||n.css(n.viewport,{position:"relative"})),l.css({position:z}),n.zoom&&n.zoom.css({position:z}),n.updateScrollBar(),n.body.append(l),n.zoom&&n.body.append(n.zoom),n.railh&&(w.css({position:z}),n.body.append(w))),y.isios&&n.css(n.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),t.disableoutline&&(y.isie&&n.win.attr("hideFocus","true"),y.iswebkit&&n.win.css("outline","none"))),t.autohidemode===!1?(n.autohidedom=!1,n.rail.css({opacity:t.cursoropacitymax}),n.railh&&n.railh.css({opacity:t.cursoropacitymax})):t.autohidemode===!0||"leave"===t.autohidemode?(n.autohidedom=g().add(n.rail),y.isie8&&(n.autohidedom=n.autohidedom.add(n.cursor)),n.railh&&(n.autohidedom=n.autohidedom.add(n.railh)),n.railh&&y.isie8&&(n.autohidedom=n.autohidedom.add(n.cursorh))):"scroll"==t.autohidemode?(n.autohidedom=g().add(n.rail),n.railh&&(n.autohidedom=n.autohidedom.add(n.railh))):"cursor"==t.autohidemode?(n.autohidedom=g().add(n.cursor),n.railh&&(n.autohidedom=n.autohidedom.add(n.cursorh))):"hidden"==t.autohidemode&&(n.autohidedom=!1,n.hide(),n.railslocked=!1),(y.cantouch||n.istouchcapable||t.emulatetouch||y.hasmstouch)&&(n.scrollmom=new u(n),n.ontouchstart=function(a){var b,c,d,e,f,h,i,k,l,m;if(n.locked)return!1;if(a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!1;if(n.hasmoving=!1,n.scrollmom.timer&&(n.triggerScrollEnd(),n.scrollmom.stop()),!n.railslocked){if(b=n.getTarget(a),b&&(c=/INPUT/i.test(b.nodeName)&&/range/i.test(b.type)))return n.stopPropagation(a);if(d="mousedown"===a.type,!("clientX"in a)&&"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),n.forcescreen&&(e=a,a={original:a.original?a.original:a},a.clientX=e.screenX,a.clientY=e.screenY),n.rail.drag={x:a.clientX,y:a.clientY,sx:n.scroll.x,sy:n.scroll.y,st:n.getScrollTop(),sl:n.getScrollLeft(),pt:2,dl:!1,tg:b},n.ispage||!t.directionlockdeadzone?n.rail.drag.dl="f":(f={w:j.width(),h:j.height()},h=n.getContentSize(),i=h.h-f.h,k=h.w-f.w,n.rail.drag.ck=n.rail.scrollable&&!n.railh.scrollable?i>0?"v":!1:!n.rail.scrollable&&n.railh.scrollable?k>0?"h":!1:!1),t.emulatetouch&&n.isiframe&&y.isie&&(l=n.win.position(),n.rail.drag.x+=l.left,n.rail.drag.y+=l.top),n.hasmoving=!1,n.lastmouseup=!1,n.scrollmom.reset(a.clientX,a.clientY),b&&d){if(m=/INPUT|SELECT|BUTTON|TEXTAREA/i.test(b.nodeName),!m)return y.hasmousecapture&&b.setCapture(),t.emulatetouch?(b.onclick&&!b._onclick&&(b._onclick=b.onclick,b.onclick=function(a){return n.hasmoving?!1:(b._onclick.call(this,a),void 0)}),n.cancelEvent(a)):n.stopPropagation(a);/SUBMIT|CANCEL|BUTTON/i.test(g(b).attr("type"))&&(n.preventclick={tg:b,click:!1})}}},n.ontouchend=function(a){if(!n.rail.drag)return!0;if(2==n.rail.drag.pt){if(a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!1;n.rail.drag=!1;var b="mouseup"===a.type;if(n.hasmoving&&(n.scrollmom.doMomentum(),n.lastmouseup=!0,n.hideCursor(),y.hasmousecapture&&h.releaseCapture(),b))return n.cancelEvent(a)}else if(1==n.rail.drag.pt)return n.onmouseup(a)},B=t.emulatetouch&&n.isiframe&&!y.hasmousecapture,D=0|.3*t.directionlockdeadzone,n.ontouchmove=function(a,b){var c,d,e,f,g,i,j,k,l,m,o,p;if(!n.rail.drag)return!0;if(a.targetTouches&&t.preventmultitouchscrolling&&a.targetTouches.length>1)return!0;if(a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!0;if(2==n.rail.drag.pt){if("changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),d=c=0,B&&!b&&(e=n.win.position(),d=-e.left,c=-e.top),f=a.clientY+c,g=f-n.rail.drag.y,i=a.clientX+d,j=i-n.rail.drag.x,k=n.rail.drag.st-g,n.ishwscroll&&t.bouncescroll)0>k?k=Math.round(k/2):k>n.page.maxh&&(k=n.page.maxh+Math.round((k-n.page.maxh)/2));else if(0>k?(k=0,f=0):k>n.page.maxh&&(k=n.page.maxh,f=0),0===f&&!n.hasmoving)return n.ispage||(n.rail.drag=!1),!0;if(l=n.getScrollLeft(),n.railh&&n.railh.scrollable&&(l=n.isrtlmode?j-n.rail.drag.sl:n.rail.drag.sl-j,n.ishwscroll&&t.bouncescroll?0>l?l=Math.round(l/2):l>n.page.maxw&&(l=n.page.maxw+Math.round((l-n.page.maxw)/2)):(0>l&&(l=0,i=0),l>n.page.maxw&&(l=n.page.maxw,i=0))),!n.hasmoving){if(n.rail.drag.y===a.clientY&&n.rail.drag.x===a.clientX)return n.cancelEvent(a);if(m=Math.abs(g),o=Math.abs(j),p=t.directionlockdeadzone,n.rail.drag.ck?"v"==n.rail.drag.ck?o>p&&D>=m?n.rail.drag=!1:m>p&&(n.rail.drag.dl="v"):"h"==n.rail.drag.ck&&(m>p&&D>=o?n.rail.drag=!1:o>p&&(n.rail.drag.dl="h")):m>p&&o>p?n.rail.drag.dl="f":m>p?n.rail.drag.dl=o>D?"f":"v":o>p&&(n.rail.drag.dl=m>D?"f":"h"),!n.rail.drag.dl)return n.cancelEvent(a);n.triggerScrollStart(a.clientX,a.clientY,0,0,0),n.hasmoving=!0}return n.preventclick&&!n.preventclick.click&&(n.preventclick.click=n.preventclick.tg.onclick||!1,n.preventclick.tg.onclick=n.onpreventclick),n.rail.drag.dl&&("v"==n.rail.drag.dl?l=n.rail.drag.sl:"h"==n.rail.drag.dl&&(k=n.rail.drag.st)),n.synched("touchmove",function(){n.rail.drag&&2==n.rail.drag.pt&&(n.prepareTransition&&n.resetTransition(),n.rail.scrollable&&n.setScrollTop(k),n.scrollmom.update(i,f),n.railh&&n.railh.scrollable?(n.setScrollLeft(l),n.showCursor(k,l)):n.showCursor(k),y.isie10&&h.selection.clear())}),n.cancelEvent(a)}return 1==n.rail.drag.pt?n.onmousemove(a):void 0},n.ontouchstartCursor=function(a,b){if(!n.rail.drag||3==n.rail.drag.pt){if(n.locked)return n.cancelEvent(a);n.cancelScroll(),n.rail.drag={x:a.touches[0].clientX,y:a.touches[0].clientY,sx:n.scroll.x,sy:n.scroll.y,pt:3,hr:!!b};var c=n.getTarget(a);return!n.ispage&&y.hasmousecapture&&c.setCapture(),n.isiframe&&!y.hasmousecapture&&(n.saved.csspointerevents=n.doc.css("pointer-events"),n.css(n.doc,{"pointer-events":"none"})),n.cancelEvent(a)}},n.ontouchendCursor=function(a){if(n.rail.drag){if(y.hasmousecapture&&h.releaseCapture(),n.isiframe&&!y.hasmousecapture&&n.doc.css("pointer-events",n.saved.csspointerevents),3!=n.rail.drag.pt)return;return n.rail.drag=!1,n.cancelEvent(a)}},n.ontouchmoveCursor=function(a){var b,c;if(n.rail.drag){if(3!=n.rail.drag.pt)return;return n.cursorfreezed=!0,n.rail.drag.hr?(n.scroll.x=n.rail.drag.sx+(a.touches[0].clientX-n.rail.drag.x),n.scroll.x<0&&(n.scroll.x=0),b=n.scrollvaluemaxw,n.scroll.x>b&&(n.scroll.x=b)):(n.scroll.y=n.rail.drag.sy+(a.touches[0].clientY-n.rail.drag.y),n.scroll.y<0&&(n.scroll.y=0),c=n.scrollvaluemax,n.scroll.y>c&&(n.scroll.y=c)),n.synched("touchmove",function(){n.rail.drag&&3==n.rail.drag.pt&&(n.showCursor(),n.rail.drag.hr?n.doScrollLeft(Math.round(n.scroll.x*n.scrollratio.x),t.cursordragspeed):n.doScrollTop(Math.round(n.scroll.y*n.scrollratio.y),t.cursordragspeed))}),n.cancelEvent(a)}}),n.onmousedown=function(a,b){if(!n.rail.drag||1==n.rail.drag.pt){if(n.railslocked)return n.cancelEvent(a);n.cancelScroll(),n.rail.drag={x:a.clientX,y:a.clientY,sx:n.scroll.x,sy:n.scroll.y,pt:1,hr:b||!1};var c=n.getTarget(a);return y.hasmousecapture&&c.setCapture(),n.isiframe&&!y.hasmousecapture&&(n.saved.csspointerevents=n.doc.css("pointer-events"),n.css(n.doc,{"pointer-events":"none"})),n.hasmoving=!1,n.cancelEvent(a)}},n.onmouseup=function(a){return n.rail.drag?1!=n.rail.drag.pt?!0:(y.hasmousecapture&&h.releaseCapture(),n.isiframe&&!y.hasmousecapture&&n.doc.css("pointer-events",n.saved.csspointerevents),n.rail.drag=!1,n.cursorfreezed=!1,n.hasmoving&&n.triggerScrollEnd(),n.cancelEvent(a)):void 0},n.onmousemove=function(a){var b,c;if(n.rail.drag){if(1!==n.rail.drag.pt)return;return y.ischrome&&0===a.which?n.onmouseup(a):(n.cursorfreezed=!0,n.hasmoving||n.triggerScrollStart(a.clientX,a.clientY,0,0,0),n.hasmoving=!0,n.rail.drag.hr?(n.scroll.x=n.rail.drag.sx+(a.clientX-n.rail.drag.x),n.scroll.x<0&&(n.scroll.x=0),b=n.scrollvaluemaxw,n.scroll.x>b&&(n.scroll.x=b)):(n.scroll.y=n.rail.drag.sy+(a.clientY-n.rail.drag.y),n.scroll.y<0&&(n.scroll.y=0),c=n.scrollvaluemax,n.scroll.y>c&&(n.scroll.y=c)),n.synched("mousemove",function(){n.cursorfreezed&&(n.showCursor(),n.rail.drag.hr?n.scrollLeft(Math.round(n.scroll.x*n.scrollratio.x)):n.scrollTop(Math.round(n.scroll.y*n.scrollratio.y)))}),n.cancelEvent(a))}n.checkarea=0},y.cantouch||t.emulatetouch?(n.onpreventclick=function(a){return n.preventclick?(n.preventclick.tg.onclick=n.preventclick.click,n.preventclick=!1,n.cancelEvent(a)):void 0},n.onclick=y.isios?!1:function(a){return n.lastmouseup?(n.lastmouseup=!1,n.cancelEvent(a)):!0},t.grabcursorenabled&&y.cursorgrabvalue&&(n.css(n.ispage?n.doc:n.win,{cursor:y.cursorgrabvalue}),n.css(n.rail,{cursor:y.cursorgrabvalue}))):(E=function(a){var b,c,d;n.selectiondrag&&(a&&(b=n.win.outerHeight(),c=a.pageY-n.selectiondrag.top,c>0&&b>c&&(c=0),c>=b&&(c-=b),n.selectiondrag.df=c),0!==n.selectiondrag.df&&(d=0|-(2*n.selectiondrag.df/6),n.doScrollBy(d),n.debounced("doselectionscroll",function(){E()},50)))},n.hasTextSelected="getSelection"in h?function(){return h.getSelection().rangeCount>0}:"selection"in h?function(){return"None"!=h.selection.type}:function(){return!1},n.onselectionstart=function(){n.ispage||(n.selectiondrag=n.win.offset())},n.onselectionend=function(){n.selectiondrag=!1},n.onselectiondrag=function(a){n.selectiondrag&&n.hasTextSelected()&&n.debounced("selectionscroll",function(){E(a)},250)}),y.hasw3ctouch?(n.css(n.ispage?g("html"):n.win,{"touch-action":"none"}),n.css(n.rail,{"touch-action":"none"}),n.css(n.cursor,{"touch-action":"none"}),n.bind(n.win,"pointerdown",n.ontouchstart),n.bind(h,"pointerup",n.ontouchend),n.delegate(h,"pointermove",n.ontouchmove)):y.hasmstouch?(n.css(n.ispage?g("html"):n.win,{"-ms-touch-action":"none"}),n.css(n.rail,{"-ms-touch-action":"none"}),n.css(n.cursor,{"-ms-touch-action":"none"}),n.bind(n.win,"MSPointerDown",n.ontouchstart),n.bind(h,"MSPointerUp",n.ontouchend),n.delegate(h,"MSPointerMove",n.ontouchmove),n.bind(n.cursor,"MSGestureHold",function(a){a.preventDefault()}),n.bind(n.cursor,"contextmenu",function(a){a.preventDefault()})):y.cantouch&&(n.bind(n.win,"touchstart",n.ontouchstart,!1,!0),n.bind(h,"touchend",n.ontouchend,!1,!0),n.bind(h,"touchcancel",n.ontouchend,!1,!0),n.delegate(h,"touchmove",n.ontouchmove,!1,!0)),t.emulatetouch&&(n.bind(n.win,"mousedown",n.ontouchstart,!1,!0),n.bind(h,"mouseup",n.ontouchend,!1,!0),n.bind(h,"mousemove",n.ontouchmove,!1,!0)),(t.cursordragontouch||!y.cantouch&&!t.emulatetouch)&&(n.rail.css({cursor:"default"}),n.railh&&n.railh.css({cursor:"default"}),n.jqbind(n.rail,"mouseenter",function(){return n.ispage||n.win.is(":visible")?(n.canshowonmouseevent&&n.showCursor(),n.rail.active=!0,void 0):!1}),n.jqbind(n.rail,"mouseleave",function(){n.rail.active=!1,n.rail.drag||n.hideCursor()}),t.sensitiverail&&(n.bind(n.rail,"click",function(a){n.doRailClick(a,!1,!1)}),n.bind(n.rail,"dblclick",function(a){n.doRailClick(a,!0,!1)}),n.bind(n.cursor,"click",function(a){n.cancelEvent(a)}),n.bind(n.cursor,"dblclick",function(a){n.cancelEvent(a)})),n.railh&&(n.jqbind(n.railh,"mouseenter",function(){return n.ispage||n.win.is(":visible")?(n.canshowonmouseevent&&n.showCursor(),n.rail.active=!0,void 0):!1}),n.jqbind(n.railh,"mouseleave",function(){n.rail.active=!1,n.rail.drag||n.hideCursor()}),t.sensitiverail&&(n.bind(n.railh,"click",function(a){n.doRailClick(a,!1,!0)}),n.bind(n.railh,"dblclick",function(a){n.doRailClick(a,!0,!0)}),n.bind(n.cursorh,"click",function(a){n.cancelEvent(a)}),n.bind(n.cursorh,"dblclick",function(a){n.cancelEvent(a)})))),t.cursordragontouch&&(this.istouchcapable||y.cantouch)&&(n.bind(n.cursor,"touchstart",n.ontouchstartCursor),n.bind(n.cursor,"touchmove",n.ontouchmoveCursor),n.bind(n.cursor,"touchend",n.ontouchendCursor),n.cursorh&&n.bind(n.cursorh,"touchstart",function(a){n.ontouchstartCursor(a,!0)}),n.cursorh&&n.bind(n.cursorh,"touchmove",n.ontouchmoveCursor),n.cursorh&&n.bind(n.cursorh,"touchend",n.ontouchendCursor)),t.emulatetouch||y.isandroid||y.isios?(n.bind(y.hasmousecapture?n.win:h,"mouseup",n.ontouchend),n.onclick&&n.bind(h,"click",n.onclick),t.cursordragontouch?(n.bind(n.cursor,"mousedown",n.onmousedown),n.bind(n.cursor,"mouseup",n.onmouseup),n.cursorh&&n.bind(n.cursorh,"mousedown",function(a){n.onmousedown(a,!0)}),n.cursorh&&n.bind(n.cursorh,"mouseup",n.onmouseup)):(n.bind(n.rail,"mousedown",function(a){a.preventDefault()
    }),n.railh&&n.bind(n.railh,"mousedown",function(a){a.preventDefault()}))):(n.bind(y.hasmousecapture?n.win:h,"mouseup",n.onmouseup),n.bind(h,"mousemove",n.onmousemove),n.onclick&&n.bind(h,"click",n.onclick),n.bind(n.cursor,"mousedown",n.onmousedown),n.bind(n.cursor,"mouseup",n.onmouseup),n.railh&&(n.bind(n.cursorh,"mousedown",function(a){n.onmousedown(a,!0)}),n.bind(n.cursorh,"mouseup",n.onmouseup)),!n.ispage&&t.enablescrollonselection&&(n.bind(n.win[0],"mousedown",n.onselectionstart),n.bind(h,"mouseup",n.onselectionend),n.bind(n.cursor,"mouseup",n.onselectionend),n.cursorh&&n.bind(n.cursorh,"mouseup",n.onselectionend),n.bind(h,"mousemove",n.onselectiondrag)),n.zoom&&(n.jqbind(n.zoom,"mouseenter",function(){n.canshowonmouseevent&&n.showCursor(),n.rail.active=!0}),n.jqbind(n.zoom,"mouseleave",function(){n.rail.active=!1,n.rail.drag||n.hideCursor()}))),t.enablemousewheel&&(n.isiframe||n.mousewheel(y.isie&&n.ispage?h:n.win,n.onmousewheel),n.mousewheel(n.rail,n.onmousewheel),n.railh&&n.mousewheel(n.railh,n.onmousewheelhr)),n.ispage||y.cantouch||/HTML|^BODY/.test(n.win[0].nodeName)||(n.win.attr("tabindex")||n.win.attr({tabindex:++d}),n.bind(n.win,"focus",function(a){b=n.getTarget(a).id||n.getTarget(a)||!1,n.hasfocus=!0,n.canshowonmouseevent&&n.noticeCursor()}),n.bind(n.win,"blur",function(){b=!1,n.hasfocus=!1}),n.bind(n.win,"mouseenter",function(a){c=n.getTarget(a).id||n.getTarget(a)||!1,n.hasmousefocus=!0,n.canshowonmouseevent&&n.noticeCursor()}),n.bind(n.win,"mouseleave",function(){c=!1,n.hasmousefocus=!1,n.rail.drag||n.hideCursor()})),n.onkeypress=function(a){var d,e,f,h,j,k;if(n.railslocked&&0===n.page.maxh)return!0;if(a=a||i.event,d=n.getTarget(a),d&&/INPUT|TEXTAREA|SELECT|OPTION/.test(d.nodeName)&&(e=d.getAttribute("type")||d.type||!1,!e||!/submit|button|cancel/i.tp))return!0;if(g(d).attr("contenteditable"))return!0;if(n.hasfocus||n.hasmousefocus&&!b||n.ispage&&!b&&!c){if(f=a.keyCode,n.railslocked&&27!=f)return n.cancelEvent(a);switch(h=a.ctrlKey||!1,j=a.shiftKey||!1,k=!1,f){case 38:case 63233:n.doScrollBy(72),k=!0;break;case 40:case 63235:n.doScrollBy(-72),k=!0;break;case 37:case 63232:n.railh&&(h?n.doScrollLeft(0):n.doScrollLeftBy(72),k=!0);break;case 39:case 63234:n.railh&&(h?n.doScrollLeft(n.page.maxw):n.doScrollLeftBy(-72),k=!0);break;case 33:case 63276:n.doScrollBy(n.view.h),k=!0;break;case 34:case 63277:n.doScrollBy(-n.view.h),k=!0;break;case 36:case 63273:n.railh&&h?n.doScrollPos(0,0):n.doScrollTo(0),k=!0;break;case 35:case 63275:n.railh&&h?n.doScrollPos(n.page.maxw,n.page.maxh):n.doScrollTo(n.page.maxh),k=!0;break;case 32:t.spacebarenabled&&(j?n.doScrollBy(n.view.h):n.doScrollBy(-n.view.h),k=!0);break;case 27:n.zoomactive&&(n.doZoom(),k=!0)}if(k)return n.cancelEvent(a)}},t.enablekeyboard&&n.bind(h,y.isopera&&!y.isopera12?"keypress":"keydown",n.onkeypress),n.bind(h,"keydown",function(a){var b=a.ctrlKey||!1;b&&(n.wheelprevented=!0)}),n.bind(h,"keyup",function(a){var b=a.ctrlKey||!1;b||(n.wheelprevented=!1)}),n.bind(i,"blur",function(){n.wheelprevented=!1}),n.bind(i,"resize",n.onscreenresize),n.bind(i,"orientationchange",n.onscreenresize),n.bind(i,"load",n.lazyResize),!y.ischrome||n.ispage||n.haswrapper||(F=n.win.attr("style"),G=parseFloat(n.win.css("width"))+1,n.win.css("width",G),n.synched("chromefix",function(){n.win.attr("style",F)})),n.onAttributeChange=function(){n.lazyResize(n.isieold?250:30)},t.enableobserver&&(n.isie11||o===!1||(n.observerbody=new o(function(a){return a.forEach(function(a){return"attributes"==a.type?r.hasClass("modal-open")&&r.hasClass("modal-dialog")&&!g.contains(g(".modal-dialog")[0],n.doc[0])?n.hide():n.show():void 0}),n.me.clientWidth!=n.page.width||n.me.clientHeight!=n.page.height?n.lazyResize(30):void 0}),n.observerbody.observe(h.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),n.ispage||n.haswrapper||(H=n.win[0],o!==!1?(n.observer=new o(function(a){a.forEach(n.onAttributeChange)}),n.observer.observe(H,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),n.observerremover=new o(function(a){a.forEach(function(a){if(a.removedNodes.length>0)for(var b in a.removedNodes)if(n&&a.removedNodes[b]===H)return n.remove()})}),n.observerremover.observe(H.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(n.bind(H,y.isie&&!y.isie9?"propertychange":"DOMAttrModified",n.onAttributeChange),y.isie9&&H.attachEvent("onpropertychange",n.onAttributeChange),n.bind(H,"DOMNodeRemoved",function(a){a.target===H&&n.remove()})))),!n.ispage&&t.boxzoom&&n.bind(i,"resize",n.resizeZoom),n.istextarea&&(n.bind(n.win,"keydown",n.lazyResize),n.bind(n.win,"mouseup",n.lazyResize)),n.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(I=function(){var b,e;n.iframexd=!1;try{b="contentDocument"in this?this.contentDocument:this.contentWindow._doc,b.domain}catch(d){n.iframexd=!0,b=!1}return n.iframexd?("console"in i&&console.log("NiceScroll error: policy restriced iframe"),!0):(n.forcescreen=!0,n.isiframe&&(n.iframe={doc:g(b),html:n.doc.contents().find("html")[0],body:n.doc.contents().find("body")[0]},n.getContentSize=function(){return{w:Math.max(n.iframe.html.scrollWidth,n.iframe.body.scrollWidth),h:Math.max(n.iframe.html.scrollHeight,n.iframe.body.scrollHeight)}},n.docscroll=g(n.iframe.body)),y.isios||!t.iframeautoresize||n.isiframe||(n.win.scrollTop(0),n.doc.height(""),e=Math.max(b.getElementsByTagName("html")[0].scrollHeight,b.body.scrollHeight),n.doc.height(e)),n.lazyResize(30),n.css(g(n.iframe.body),a),y.isios&&n.haswrapper&&n.css(g(b.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?n.bind(this.contentWindow,"scroll",n.onscroll):n.bind(b,"scroll",n.onscroll),t.enablemousewheel&&n.mousewheel(b,n.onmousewheel),t.enablekeyboard&&n.bind(b,y.isopera?"keypress":"keydown",n.onkeypress),y.cantouch?(n.bind(b,"touchstart",n.ontouchstart),n.bind(b,"touchmove",n.ontouchmove)):t.emulatetouch&&(n.bind(b,"mousedown",n.ontouchstart),n.bind(b,"mousemove",function(a){return n.ontouchmove(a,!0)}),t.grabcursorenabled&&y.cursorgrabvalue&&n.css(g(b.body),{cursor:y.cursorgrabvalue})),n.bind(b,"mouseup",n.ontouchend),n.zoom&&(t.dblclickzoom&&n.bind(b,"dblclick",n.doZoom),n.ongesturezoom&&n.bind(b,"gestureend",n.ongesturezoom)),void 0)},this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){I.call(n.doc[0],!1)},500),n.bind(this.doc,"load",I))},this.showCursor=function(a,b){if(n.cursortimeout&&(clearTimeout(n.cursortimeout),n.cursortimeout=0),n.rail){if(n.autohidedom&&(n.autohidedom.stop().css({opacity:t.cursoropacitymax}),n.cursoractive=!0),n.rail.drag&&1==n.rail.drag.pt||(void 0!==a&&a!==!1&&(n.scroll.y=0|a/n.scrollratio.y),void 0!==b&&(n.scroll.x=0|b/n.scrollratio.x)),n.cursor.css({height:n.cursorheight,top:n.scroll.y}),n.cursorh){var c=n.hasreversehr?n.scrollvaluemaxw-n.scroll.x:n.scroll.x;n.cursorh.css({width:n.cursorwidth,left:!n.rail.align&&n.rail.visibility?c+n.rail.width:c}),n.cursoractive=!0}n.zoom&&n.zoom.stop().css({opacity:t.cursoropacitymax})}},this.hideCursor=function(a){n.cursortimeout||n.rail&&n.autohidedom&&(n.hasmousefocus&&"leave"===t.autohidemode||(n.cursortimeout=setTimeout(function(){n.rail.active&&n.showonmouseevent||(n.autohidedom.stop().animate({opacity:t.cursoropacitymin}),n.zoom&&n.zoom.stop().animate({opacity:t.cursoropacitymin}),n.cursoractive=!1),n.cursortimeout=0},a||t.hidecursordelay)))},this.noticeCursor=function(a,b,c){n.showCursor(b,c),n.rail.active||n.hideCursor(a)},this.getContentSize=n.ispage?function(){return{w:Math.max(h.body.scrollWidth,h.documentElement.scrollWidth),h:Math.max(h.body.scrollHeight,h.documentElement.scrollHeight)}}:n.haswrapper?function(){return{w:n.doc[0].offsetWidth,h:n.doc[0].offsetHeight}}:function(){return{w:n.docscroll[0].scrollWidth,h:n.docscroll[0].scrollHeight}},this.onResize=function(a,b){var c,d,e,f,g,h,i;if(!n||!n.win)return!1;if(c=n.page.maxh,d=n.page.maxw,e=n.view.h,f=n.view.w,n.view={w:n.ispage?n.win.width():n.win[0].clientWidth,h:n.ispage?n.win.height():n.win[0].clientHeight},n.page=b?b:n.getContentSize(),n.page.maxh=Math.max(0,n.page.h-n.view.h),n.page.maxw=Math.max(0,n.page.w-n.view.w),n.page.maxh==c&&n.page.maxw==d&&n.view.w==f&&n.view.h==e){if(n.ispage)return n;if(g=n.win.offset(),n.lastposition&&(h=n.lastposition,h.top==g.top&&h.left==g.left))return n;n.lastposition=g}return 0===n.page.maxh?(n.hideRail(),n.scrollvaluemax=0,n.scroll.y=0,n.scrollratio.y=0,n.cursorheight=0,n.setScrollTop(0),n.rail&&(n.rail.scrollable=!1)):(n.page.maxh-=t.railpadding.top+t.railpadding.bottom,n.rail.scrollable=!0),0===n.page.maxw?(n.hideRailHr(),n.scrollvaluemaxw=0,n.scroll.x=0,n.scrollratio.x=0,n.cursorwidth=0,n.setScrollLeft(0),n.railh&&(n.railh.scrollable=!1)):(n.page.maxw-=t.railpadding.left+t.railpadding.right,n.railh&&(n.railh.scrollable=t.horizrailenabled)),n.railslocked=n.locked||0===n.page.maxh&&0===n.page.maxw,n.railslocked?(n.ispage||n.updateScrollBar(n.view),!1):(n.hidden||(n.rail.visibility||n.showRail(),n.railh&&!n.railh.visibility&&n.showRailHr()),n.istextarea&&n.win.css("resize")&&"none"!=n.win.css("resize")&&(n.view.h-=20),n.cursorheight=Math.min(n.view.h,Math.round(n.view.h*(n.view.h/n.page.h))),n.cursorheight=t.cursorfixedheight?t.cursorfixedheight:Math.max(t.cursorminheight,n.cursorheight),n.cursorwidth=Math.min(n.view.w,Math.round(n.view.w*(n.view.w/n.page.w))),n.cursorwidth=t.cursorfixedheight?t.cursorfixedheight:Math.max(t.cursorminheight,n.cursorwidth),n.scrollvaluemax=n.view.h-n.cursorheight-(t.railpadding.top+t.railpadding.bottom),n.hasborderbox||(n.scrollvaluemax-=n.cursor[0].offsetHeight-n.cursor[0].clientHeight),n.railh&&(n.railh.width=n.page.maxh>0?n.rail.width:n.view.w,n.scrollvaluemaxw=n.railh.width-n.cursorwidth-(t.railpadding.left+t.railpadding.right)),n.ispage||n.updateScrollBar(n.view),n.scrollratio={x:n.page.maxw/n.scrollvaluemaxw,y:n.page.maxh/n.scrollvaluemax},i=n.getScrollTop(),i>n.page.maxh?n.doScrollTop(n.page.maxh):(n.scroll.y=0|n.getScrollTop()/n.scrollratio.y,n.scroll.x=0|n.getScrollLeft()/n.scrollratio.x,n.cursoractive&&n.noticeCursor()),n.scroll.y&&0===n.getScrollTop()&&n.doScrollTo(0|n.scroll.y*n.scrollratio.y),n)},this.resize=n.onResize,F=0,this.onscreenresize=function(){clearTimeout(F);var b=!n.ispage&&!n.haswrapper;b&&n.hideRails(),F=setTimeout(function(){n&&(b&&n.showRails(),n.resize()),F=0},120)},this.lazyResize=function(a){return clearTimeout(F),a=isNaN(a)?240:a,F=setTimeout(function(){n&&n.resize(),F=0},a),n},this.jqbind=function(a,b,c){n.events.push({e:a,n:b,f:c,q:!0}),g(a).on(b,c)},this.mousewheel=function(a,b,c){var e,d="jquery"in a?a[0]:a;"onwheel"in h.createElement("div")?n._bind(d,"wheel",b,c||!1):(e=void 0!==h.onmousewheel?"mousewheel":"DOMMouseScroll",G(d,e,b,c||!1),"DOMMouseScroll"==e&&G(d,"MozMousePixelScroll",b,c||!1))},H=!1,y.haseventlistener){try{I=Object.defineProperty({},"passive",{get:function(){H=!0}}),i.addEventListener("test",null,I)}catch(J){}this.stopPropagation=function(a){return a?(a=a.original?a.original:a,a.stopPropagation(),!1):!1},this.cancelEvent=function(a){return a.cancelable&&a.preventDefault(),a.stopImmediatePropagation(),a.preventManipulation&&a.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},i.constructor.prototype.addEventListener=h.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(a,b){this.attachEvent("on"+a,b)},i.constructor.prototype.removeEventListener=h.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(a,b){this.detachEvent("on"+a,b)},this.cancelEvent=function(a){return a=a||i.event,a&&(a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1),!1},this.stopPropagation=function(a){return a=a||i.event,a&&(a.cancelBubble=!0),!1};this.delegate=function(a,b,c,d,e){var f=n.delegatevents[b]||!1;f||(f={a:[],l:[],f:function(a){var e,b=f.l,c=b.length-1,d=!1;for(e=c;e>=0;e--)if(d=b[e].call(a.target,a),d===!1)return!1;return d}},n.bind(a,b,f.f,d,e),n.delegatevents[b]=f),n.ispage?(f.a=[n.id].concat(f.a),f.l=[c].concat(f.l)):(f.a.push(n.id),f.l.push(c))},this.undelegate=function(a,b){var g,h,f=n.delegatevents[b]||!1;if(f&&f.l)for(g=0,h=f.l.length;h>g;g++)f.a[g]===n.id&&(f.a.splice(g),f.l.splice(g),0===f.a.length&&(n._unbind(a,b,f.l.f),n.delegatevents[b]=null))},this.bind=function(a,b,c,d,e){var f="jquery"in a?a[0]:a;n._bind(f,b,c,d||!1,e||!1)},this._bind=function(a,b,c,d,e){n.events.push({e:a,n:b,f:c,b:d,q:!1}),H&&e?a.addEventListener(b,c,{passive:!1,capture:d}):a.addEventListener(b,c,d||!1)},this._unbind=function(a,b,c,d){n.delegatevents[b]?n.undelegate(a,b,c,d):a.removeEventListener(b,c,d)},this.unbindAll=function(){var a,b;for(a=0;a<n.events.length;a++)b=n.events[a],b.q?b.e.unbind(b.n,b.f):n._unbind(b.e,b.n,b.f,b.b)},this.showRails=function(){return n.showRail().showRailHr()},this.showRail=function(){return 0===n.page.maxh||!n.ispage&&"none"==n.win.css("display")||(n.rail.visibility=!0,n.rail.css("display","block")),n},this.showRailHr=function(){return n.railh&&(0===n.page.maxw||!n.ispage&&"none"==n.win.css("display")||(n.railh.visibility=!0,n.railh.css("display","block"))),n},this.hideRails=function(){return n.hideRail().hideRailHr()},this.hideRail=function(){return n.rail.visibility=!1,n.rail.css("display","none"),n},this.hideRailHr=function(){return n.railh&&(n.railh.visibility=!1,n.railh.css("display","none")),n},this.show=function(){return n.hidden=!1,n.railslocked=!1,n.showRails()},this.hide=function(){return n.hidden=!0,n.railslocked=!0,n.hideRails()},this.toggle=function(){return n.hidden?n.show():n.hide()},this.remove=function(){var a,b,c,d,e;n.stop(),n.cursortimeout&&clearTimeout(n.cursortimeout);for(a in n.delaylist)n.delaylist[a]&&m(n.delaylist[a].h);for(n.doZoomOut(),n.unbindAll(),y.isie9&&n.win[0].detachEvent("onpropertychange",n.onAttributeChange),n.observer!==!1&&n.observer.disconnect(),n.observerremover!==!1&&n.observerremover.disconnect(),n.observerbody!==!1&&n.observerbody.disconnect(),n.events=null,n.cursor&&n.cursor.remove(),n.cursorh&&n.cursorh.remove(),n.rail&&n.rail.remove(),n.railh&&n.railh.remove(),n.zoom&&n.zoom.remove(),b=0;b<n.saved.css.length;b++)c=n.saved.css[b],c[0].css(c[1],void 0===c[2]?"":c[2]);n.saved=!1,n.me.data("__nicescroll",""),d=g.nicescroll,d.each(function(a){if(this&&this.id===n.id){delete d[a];for(var b=++a;b<d.length;b++,a++)d[a]=d[b];d.length--,d.length&&delete d[d.length]}});for(e in n)n[e]=null,delete n[e];n=null},this.scrollstart=function(a){return this.onscrollstart=a,n},this.scrollend=function(a){return this.onscrollend=a,n},this.scrollcancel=function(a){return this.onscrollcancel=a,n},this.zoomin=function(a){return this.onzoomin=a,n},this.zoomout=function(a){return this.onzoomout=a,n},this.isScrollable=function(a){var c,d,b=a.target?a.target:a;if("OPTION"==b.nodeName)return!0;for(;b&&1==b.nodeType&&b!==this.me[0]&&!/^BODY|HTML/.test(b.nodeName);){if(c=g(b),d=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"",/scroll|auto/.test(d))return b.clientHeight!=b.scrollHeight;b=b.parentNode?b.parentNode:!1}return!1},this.getViewport=function(a){for(var c,d,b=a&&a.parentNode?a.parentNode:!1;b&&1==b.nodeType&&!/^BODY|HTML/.test(b.nodeName);){if(c=g(b),/fixed|absolute/.test(c.css("position")))return c;if(d=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"",/scroll|auto/.test(d)&&b.clientHeight!=b.scrollHeight)return c;if(c.getNiceScroll().length>0)return c;b=b.parentNode?b.parentNode:!1}return!1},this.triggerScrollStart=function(a,b,c,d,e){if(n.onscrollstart){var f={type:"scrollstart",current:{x:a,y:b},request:{x:c,y:d},end:{x:n.newscrollx,y:n.newscrolly},speed:e};n.onscrollstart.call(n,f)}},this.triggerScrollEnd=function(){var a,b,c;n.onscrollend&&(a=n.getScrollLeft(),b=n.getScrollTop(),c={type:"scrollend",current:{x:a,y:b},end:{x:a,y:b}},n.onscrollend.call(n,c))},K=0,L=0,M=0,N=1,P=!1,this.onmousewheel=function(a){var b,c,d;return n.wheelprevented||n.locked?!1:n.railslocked?(n.debounced("checkunlock",n.resize,250),!1):n.rail.drag?n.cancelEvent(a):("auto"===t.oneaxismousemode&&0!==a.deltaX&&(t.oneaxismousemode=!1),t.oneaxismousemode&&0===a.deltaX&&!n.rail.scrollable?n.railh&&n.railh.scrollable?n.onmousewheelhr(a):!0:(b=p(),c=!1,t.preservenativescrolling&&n.checkarea+600<b&&(n.nativescrollingarea=n.isScrollable(a),c=!0),n.checkarea=b,n.nativescrollingarea?!0:(d=Q(a,!1,c),d&&(n.checkarea=0),d)))},this.onmousewheelhr=function(a){var b,c;if(!n.wheelprevented)return n.railslocked||!n.railh.scrollable?!0:n.rail.drag?n.cancelEvent(a):(b=p(),c=!1,t.preservenativescrolling&&n.checkarea+600<b&&(n.nativescrollingarea=n.isScrollable(a),c=!0),n.checkarea=b,n.nativescrollingarea?!0:n.railslocked?n.cancelEvent(a):Q(a,!0,c))},this.stop=function(){return n.cancelScroll(),n.scrollmon&&n.scrollmon.stop(),n.cursorfreezed=!1,n.scroll.y=Math.round(n.getScrollTop()*(1/n.scrollratio.y)),n.noticeCursor(),n},this.getTransitionSpeed=function(a){return 0|80+a/72*t.scrollspeed},t.smoothscroll?n.ishwscroll&&y.hastransition&&t.usetransition&&t.smoothscroll?(R="",this.resetTransition=function(){R="",n.doc.css(y.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(a,b){var c=b?a:n.getTransitionSpeed(a),d=c+"ms";return R!==d&&(R=d,n.doc.css(y.prefixstyle+"transition-duration",d)),c},this.doScrollLeft=function(a,b){var c=n.scrollrunning?n.newscrolly:n.getScrollTop();n.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=n.scrollrunning?n.newscrollx:n.getScrollLeft();n.doScrollPos(c,a,b)},this.cursorupdate={running:!1,start:function(){var b,a=this;a.running||(a.running=!0,b=function(){a.running&&l(b),n.showCursor(n.getScrollTop(),n.getScrollLeft()),n.notifyScrollEvent(n.win[0])},l(b))},stop:function(){this.running=!1}},this.doScrollPos=function(a,b){var f,g,h,i,j,d=n.getScrollTop(),e=n.getScrollLeft();return((n.newscrolly-d)*(b-d)<0||(n.newscrollx-e)*(a-e)<0)&&n.cancelScroll(),t.bouncescroll?(0>b?b=0|b/2:b>n.page.maxh&&(b=0|n.page.maxh+(b-n.page.maxh)/2),0>a?a=0|a/2:a>n.page.maxw&&(a=0|n.page.maxw+(a-n.page.maxw)/2)):(0>b?b=0:b>n.page.maxh&&(b=n.page.maxh),0>a?a=0:a>n.page.maxw&&(a=n.page.maxw)),n.scrollrunning&&a==n.newscrollx&&b==n.newscrolly?!1:(n.newscrolly=b,n.newscrollx=a,f=n.getScrollTop(),g=n.getScrollLeft(),h={},h.x=a-g,h.y=b-f,i=0|Math.sqrt(h.x*h.x+h.y*h.y),j=n.prepareTransition(i),n.scrollrunning||(n.scrollrunning=!0,n.triggerScrollStart(g,f,a,b,j),n.cursorupdate.start()),n.scrollendtrapped=!0,y.transitionend||(n.scrollendtrapped&&clearTimeout(n.scrollendtrapped),n.scrollendtrapped=setTimeout(n.onScrollTransitionEnd,j)),n.setScrollTop(n.newscrolly),n.setScrollLeft(n.newscrollx),void 0)},this.cancelScroll=function(){var a,b;return n.scrollendtrapped?(a=n.getScrollTop(),b=n.getScrollLeft(),n.scrollrunning=!1,y.transitionend||clearTimeout(y.transitionend),n.scrollendtrapped=!1,n.resetTransition(),n.setScrollTop(a),n.railh&&n.setScrollLeft(b),n.timerscroll&&n.timerscroll.tm&&clearInterval(n.timerscroll.tm),n.timerscroll=!1,n.cursorfreezed=!1,n.cursorupdate.stop(),n.showCursor(a,b),n):!0},this.onScrollTransitionEnd=function(){var a,b;if(n.scrollendtrapped){if(a=n.getScrollTop(),b=n.getScrollLeft(),0>a?a=0:a>n.page.maxh&&(a=n.page.maxh),0>b?b=0:b>n.page.maxw&&(b=n.page.maxw),a!=n.newscrolly||b!=n.newscrollx)return n.doScrollPos(b,a,t.snapbackspeed);n.scrollrunning&&n.triggerScrollEnd(),n.scrollrunning=!1,n.scrollendtrapped=!1,n.resetTransition(),n.timerscroll=!1,n.setScrollTop(a),n.railh&&n.setScrollLeft(b),n.cursorupdate.stop(),n.noticeCursor(!1,a,b),n.cursorfreezed=!1}}):(this.doScrollLeft=function(a,b){var c=n.scrollrunning?n.newscrolly:n.getScrollTop();n.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=n.scrollrunning?n.newscrollx:n.getScrollLeft();n.doScrollPos(c,a,b)},this.doScrollPos=function(a,b){var f,g,h,i,k,d=n.getScrollTop(),e=n.getScrollLeft();return((n.newscrolly-d)*(b-d)<0||(n.newscrollx-e)*(a-e)<0)&&n.cancelScroll(),f=!1,n.bouncescroll&&n.rail.visibility||(0>b?(b=0,f=!0):b>n.page.maxh&&(b=n.page.maxh,f=!0)),n.bouncescroll&&n.railh.visibility||(0>a?(a=0,f=!0):a>n.page.maxw&&(a=n.page.maxw,f=!0)),n.scrollrunning&&n.newscrolly===b&&n.newscrollx===a?!0:(n.newscrolly=b,n.newscrollx=a,n.dst={},n.dst.x=a-e,n.dst.y=b-d,n.dst.px=e,n.dst.py=d,g=0|Math.sqrt(n.dst.x*n.dst.x+n.dst.y*n.dst.y),h=n.getTransitionSpeed(g),n.bzscroll={},i=f?1:.58,n.bzscroll.x=new z(e,n.newscrollx,h,0,0,i,1),n.bzscroll.y=new z(d,n.newscrolly,h,0,0,i,1),p(),k=function(){if(n.scrollrunning){var a=n.bzscroll.y.getPos();n.setScrollLeft(n.bzscroll.x.getNow()),n.setScrollTop(n.bzscroll.y.getNow()),1>=a?n.timer=l(k):(n.scrollrunning=!1,n.timer=0,n.triggerScrollEnd())}},n.scrollrunning||(n.triggerScrollStart(e,d,a,b,h),n.scrollrunning=!0,n.timer=l(k)),void 0)},this.cancelScroll=function(){return n.timer&&m(n.timer),n.timer=0,n.bzscroll=!1,n.scrollrunning=!1,n}):(this.doScrollLeft=function(a,b){var c=n.getScrollTop();n.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=n.getScrollLeft();n.doScrollPos(c,a,b)},this.doScrollPos=function(a,b){var e,d=a>n.page.maxw?n.page.maxw:a;0>d&&(d=0),e=b>n.page.maxh?n.page.maxh:b,0>e&&(e=0),n.synched("scroll",function(){n.setScrollTop(e),n.setScrollLeft(d)})},this.cancelScroll=function(){}),this.doScrollBy=function(a){O(0,a)},this.doScrollLeftBy=function(a){O(a,0)},this.doScrollTo=function(a,b){var c=b?Math.round(a*n.scrollratio.y):a;0>c?c=0:c>n.page.maxh&&(c=n.page.maxh),n.cursorfreezed=!1,n.doScrollTop(a)},this.checkContentSize=function(){var a=n.getContentSize();(a.h!=n.page.h||a.w!=n.page.w)&&n.resize(!1,a)},n.onscroll=function(){n.rail.drag||n.cursorfreezed||n.synched("scroll",function(){n.scroll.y=Math.round(n.getScrollTop()/n.scrollratio.y),n.railh&&(n.scroll.x=Math.round(n.getScrollLeft()/n.scrollratio.x)),n.noticeCursor()})},n.bind(n.docscroll,"scroll",n.onscroll),this.doZoomIn=function(a){var b,c,d,e,g;if(!n.zoomactive){n.zoomactive=!0,n.zoomrestore={style:{}},b=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],c=n.win[0].style;for(d in b)e=b[d],n.zoomrestore.style[e]=void 0!==c[e]?c[e]:"";return n.zoomrestore.style.width=n.win.css("width"),n.zoomrestore.style.height=n.win.css("height"),n.zoomrestore.padding={w:n.win.outerWidth()-n.win.width(),h:n.win.outerHeight()-n.win.height()},y.isios4&&(n.zoomrestore.scrollTop=j.scrollTop(),j.scrollTop(0)),n.win.css({position:y.isios4?"absolute":"fixed",top:0,left:0,zIndex:f+100,margin:0}),g=n.win.css("backgroundColor"),(""===g||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(g))&&n.win.css("backgroundColor","#fff"),n.rail.css({zIndex:f+101}),n.zoom.css({zIndex:f+102}),n.zoom.css("backgroundPosition","0 -18px"),n.resizeZoom(),n.onzoomin&&n.onzoomin.call(n),n.cancelEvent(a)}},this.doZoomOut=function(a){return n.zoomactive?(n.zoomactive=!1,n.win.css("margin",""),n.win.css(n.zoomrestore.style),y.isios4&&j.scrollTop(n.zoomrestore.scrollTop),n.rail.css({"z-index":n.zindex}),n.zoom.css({"z-index":n.zindex}),n.zoomrestore=!1,n.zoom.css("backgroundPosition","0 0"),n.onResize(),n.onzoomout&&n.onzoomout.call(n),n.cancelEvent(a)):void 0},this.doZoom=function(a){return n.zoomactive?n.doZoomOut(a):n.doZoomIn(a)},this.resizeZoom=function(){if(n.zoomactive){var a=n.getScrollTop();n.win.css({width:j.width()-n.zoomrestore.padding.w+"px",height:j.height()-n.zoomrestore.padding.h+"px"}),n.onResize(),n.setScrollTop(Math.min(n.page.maxh,a))}},this.init(),g.nicescroll.push(this)},u=function(a){var b=this;this.nc=a,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(a,c){b.stop(),b.steptime=0,b.lasttime=p(),b.speedx=0,b.speedy=0,b.lastx=a,b.lasty=c,b.lastscrollx=-1,b.lastscrolly=-1},this.update=function(a,c){var e,f,g,h,i,j,d=p();b.steptime=d-b.lasttime,b.lasttime=d,e=c-b.lasty,f=a-b.lastx,g=b.nc.getScrollTop(),h=b.nc.getScrollLeft(),i=g+e,j=h+f,b.snapx=0>j||j>b.nc.page.maxw,b.snapy=0>i||i>b.nc.page.maxh,b.speedx=f,b.speedy=e,b.lastx=a,b.lasty=c},this.stop=function(){b.nc.unsynched("domomentum2d"),b.timer&&clearTimeout(b.timer),b.timer=0,b.lastscrollx=-1,b.lastscrolly=-1},this.doSnapy=function(a,c){var d=!1;0>c?(c=0,d=!0):c>b.nc.page.maxh&&(c=b.nc.page.maxh,d=!0),0>a?(a=0,d=!0):a>b.nc.page.maxw&&(a=b.nc.page.maxw,d=!0),d?b.nc.doScrollPos(a,c,b.nc.opt.snapbackspeed):b.nc.triggerScrollEnd()},this.doMomentum=function(a){var i,j,k,l,m,n,o,q,c=p(),d=a?c+a:b.lasttime,e=b.nc.getScrollLeft(),f=b.nc.getScrollTop(),g=b.nc.page.maxh,h=b.nc.page.maxw;b.speedx=h>0?Math.min(60,b.speedx):0,b.speedy=g>0?Math.min(60,b.speedy):0,i=d&&60>=c-d,(0>f||f>g||0>e||e>h)&&(i=!1),j=b.speedy&&i?b.speedy:!1,k=b.speedx&&i?b.speedx:!1,j||k?(l=Math.max(16,b.steptime),l>50&&(m=l/50,b.speedx*=m,b.speedy*=m,l=50),b.demulxy=0,b.lastscrollx=b.nc.getScrollLeft(),b.chkx=b.lastscrollx,b.lastscrolly=b.nc.getScrollTop(),b.chky=b.lastscrolly,n=b.lastscrollx,o=b.lastscrolly,q=function(){var a=p()-c>600?.04:.02;b.speedx&&(n=Math.floor(b.lastscrollx-b.speedx*(1-b.demulxy)),b.lastscrollx=n,(0>n||n>h)&&(a=.1)),b.speedy&&(o=Math.floor(b.lastscrolly-b.speedy*(1-b.demulxy)),b.lastscrolly=o,(0>o||o>g)&&(a=.1)),b.demulxy=Math.min(1,b.demulxy+a),b.nc.synched("domomentum2d",function(){b.speedx&&(b.nc.getScrollLeft(),b.chkx=n,b.nc.setScrollLeft(n)),b.speedy&&(b.nc.getScrollTop(),b.chky=o,b.nc.setScrollTop(o)),b.timer||(b.nc.hideCursor(),b.doSnapy(n,o))}),b.demulxy<1?b.timer=setTimeout(q,l):(b.stop(),b.nc.hideCursor(),b.doSnapy(n,o))},q()):b.doSnapy(b.nc.getScrollLeft(),b.nc.getScrollTop())}},v=a.fn.scrollTop,a.cssHooks.pageYOffset={get:function(a){var d=g.data(a,"__nicescroll")||!1;return d&&d.ishwscroll?d.getScrollTop():v.call(a)},set:function(a,b){var c=g.data(a,"__nicescroll")||!1;return c&&c.ishwscroll?c.setScrollTop(parseInt(b)):v.call(a,b),this}},a.fn.scrollTop=function(a){if(void 0===a){var b=this[0]?g.data(this[0],"__nicescroll")||!1:!1;return b&&b.ishwscroll?b.getScrollTop():v.call(this)}return this.each(function(){var b=g.data(this,"__nicescroll")||!1;b&&b.ishwscroll?b.setScrollTop(parseInt(a)):v.call(g(this),a)})},w=a.fn.scrollLeft,g.cssHooks.pageXOffset={get:function(a){var d=g.data(a,"__nicescroll")||!1;return d&&d.ishwscroll?d.getScrollLeft():w.call(a)},set:function(a,b){var c=g.data(a,"__nicescroll")||!1;return c&&c.ishwscroll?c.setScrollLeft(parseInt(b)):w.call(a,b),this}},a.fn.scrollLeft=function(a){if(void 0===a){var b=this[0]?g.data(this[0],"__nicescroll")||!1:!1;return b&&b.ishwscroll?b.getScrollLeft():w.call(this)}return this.each(function(){var b=g.data(this,"__nicescroll")||!1;b&&b.ishwscroll?b.setScrollLeft(parseInt(a)):w.call(g(this),a)})},x=function(a){var c,d,b=this;if(this.length=0,this.name="nicescrollarray",this.each=function(a){return g.each(b,a),b},this.push=function(a){b[b.length]=a,b.length++},this.eq=function(a){return b[a]},a)for(c=0;c<a.length;c++)d=g.data(a[c],"__nicescroll")||!1,d&&(this[this.length]=d,this.length++);return this},y(x.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(a,b){a[b]=function(){var a=arguments;return this.each(function(){this[b].apply(this,a)})}}),a.fn.getNiceScroll=function(a){return void 0===a?new x(this):this[a]&&g.data(this[a],"__nicescroll")||!1},z=a.expr.pseudos||a.expr[":"],z.nicescroll=function(a){return void 0!==g.data(a,"__nicescroll")},g.fn.niceScroll=function(a,b){void 0!==b||"object"!=typeof a||"jquery"in a||(b=a,a=!1);var c=new x;return this.each(function(){var f,h,i,d=g(this),e=g.extend({},b);a&&(f=g(a),e.doc=f.length>1?g(a,d):f,e.win=d),h=!("doc"in e),h||"win"in e||(e.win=d),i=d.data("__nicescroll")||!1,i||(e.doc=e.doc||d,i=new t(e,d),d.data("__nicescroll",i)),c.push(i)}),1===c.length?c[0]:c},i.NiceScroll={getjQuery:function(){return a}},g.nicescroll||(g.nicescroll=new x,g.nicescroll.options=q)});