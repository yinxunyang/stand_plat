<div data-container="addRepayBuyoutRequest">
    <component is="bv-form" :key="tags.formId" v-bind="config"></component>
</div>
<script type="text/javascript">
    function demoCheck(field, rules, options) {

        if (/^\{(\[([01][0-9]|[2][0-3]):[0-5][0-9]:[0-5][0-9]-([01][0-9]|[2][0-3]):[0-5][0-9]:[0-5][0-9]\])*\}$/.test(field.val())) {
            return true;
        } else {
            return "请输入正确时间格式"
        }
    }

    require(['jquery', 'util', 'Const'], function ($, util, Const) {
        var vm = util.bind({
            container: 'addRepayBuyoutRequest',
            data: {
                tags: {
                    formId: 'addRepayBuyoutRequestForm'
                },
                config: {
                    title: '还款买断申请',
                    saveUrl: '/api/plr/request/save',
                    columns: [
                        {
                            name: 'buzDt',
                            head: '业务日期',
                            edit: {
                                type: 'date'
                            },
                            config: {
                                format: 'date',
                                // defaultValueFrom: util.date('date') + ' 00:00:00',
                                validate: {
                                    required: true
                                }
                            }
                        },
                        {
                            name: 'contNo',
                            head: '合同号',
                            config: {
                                attr: {
                                    maxlength: 32
                                },
                                validate: {
                                    required: true
                                }
                            }
                        },
                        {
                            name: 'loanNo',
                            head: '资方借据号',
                            config: {
                                attr: {
                                    maxlength: 32
                                },
                                validate: {
                                    required: true
                                }
                            }
                        },
                        {
                            name: 'capCode',
                            head: '联合资金方编码',
                            config: {
                                attr: {
                                    maxlength: 32
                                },
                                validate: {
                                    required: true
                                }
                            }
                        },
                        {
                            name: 'custName',
                            head: '客户姓名',
                            config: {
                                attr: {
                                    maxlength: 256
                                },
                                validate: {
                                    required: true
                                }
                            }
                        },
                        {
                            name: 'certNo',
                            head: '证件号码',
                            config: {
                                attr: {
                                    maxlength: 32
                                },
                                validate: {
                                    required: true
                                }
                            }
                        },
                        {
                            name: 'overdueDays',
                            head: '逾期天数',
                            config: {
                                fix: 'integer',
                                attr: {
                                    maxlength: 10
                                },
                                validate: {
                                    required: true
                                }
                            }
                        }
                        // {
                        //     name: 'remark',
                        //     head: '备注',
                        //     edit: {
                        //         type: 'textarea'
                        //     },
                        //     config: {
                        //         attr: {
                        //             maxlength: 512
                        //         }
                        //     }
                        // }
                    ],
                    operates: [
                        {
                            text: '保存',
                            clazz: 'btn-primary',
                            icon: 'icon-save',
                            loading: '处理中...',
                            preset: 'save'
                        }
                    ]
                }
            }
        });
    });
</script>
